/*-ë¬¸ì œ ì„¤ëª…
ìŠˆí¼ ê²Œì„ ê°œë°œì ì˜¤ë ë¦¬ëŠ” í° ê³ ë¯¼ì— ë¹ ì¡Œë‹¤. 
ê·¸ë…€ê°€ ë§Œë“  í”„ëœì¦ˆ ì˜¤ì²œì„±ì´ ëŒ€ì„±ê³µì„ ê±°ë’€ì§€ë§Œ, ìš”ì¦˜ ì‹ ê·œ ì‚¬ìš©ìì˜ ìˆ˜ê°€ ê¸‰ê°í•œ ê²ƒì´ë‹¤. 
ì›ì¸ì€ ì‹ ê·œ ì‚¬ìš©ìì™€ ê¸°ì¡´ ì‚¬ìš©ì ì‚¬ì´ì— ìŠ¤í…Œì´ì§€ ì°¨ì´ê°€ ë„ˆë¬´ í° ê²ƒì´ ë¬¸ì œì˜€ë‹¤.

ì´ ë¬¸ì œë¥¼ ì–´ë–»ê²Œ í• ê¹Œ ê³ ë¯¼ í•œ ê·¸ë…€ëŠ” ë™ì ìœ¼ë¡œ ê²Œì„ ì‹œê°„ì„ ëŠ˜ë ¤ì„œ ë‚œì´ë„ë¥¼ ì¡°ì ˆí•˜ê¸°ë¡œ í–ˆë‹¤. 
ì—­ì‹œ ìŠˆí¼ ê°œë°œìë¼ ëŒ€ë¶€ë¶„ì˜ ë¡œì§ì€ ì‰½ê²Œ êµ¬í˜„í–ˆì§€ë§Œ, ì‹¤íŒ¨ìœ¨ì„ êµ¬í•˜ëŠ” ë¶€ë¶„ì—ì„œ ìœ„ê¸°ì— ë¹ ì§€ê³  ë§ì•˜ë‹¤. 
ì˜¤ë ë¦¬ë¥¼ ìœ„í•´ ì‹¤íŒ¨ìœ¨ì„ êµ¬í•˜ëŠ” ì½”ë“œë¥¼ ì™„ì„±í•˜ë¼.

ì‹¤íŒ¨ìœ¨ì€ ë‹¤ìŒê³¼ ê°™ì´ ì •ì˜í•œë‹¤.
ìŠ¤í…Œì´ì§€ì— ë„ë‹¬í–ˆìœ¼ë‚˜ ì•„ì§ í´ë¦¬ì–´í•˜ì§€ ëª»í•œ í”Œë ˆì´ì–´ì˜ ìˆ˜ / ìŠ¤í…Œì´ì§€ì— ë„ë‹¬í•œ í”Œë ˆì´ì–´ ìˆ˜
ì „ì²´ ìŠ¤í…Œì´ì§€ì˜ ê°œìˆ˜ N, ê²Œì„ì„ ì´ìš©í•˜ëŠ” ì‚¬ìš©ìê°€ í˜„ì¬ ë©ˆì¶°ìˆëŠ” ìŠ¤í…Œì´ì§€ì˜ ë²ˆí˜¸ê°€ ë‹´ê¸´ ë°°ì—´ stagesê°€ ë§¤ê°œë³€ìˆ˜ë¡œ ì£¼ì–´ì§ˆ ë•Œ, ì‹¤íŒ¨ìœ¨ì´ ë†’ì€ ìŠ¤í…Œì´ì§€ë¶€í„° ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ìŠ¤í…Œì´ì§€ì˜ ë²ˆí˜¸ê°€ ë‹´ê²¨ìˆëŠ” ë°°ì—´ì„ return í•˜ë„ë¡ solution í•¨ìˆ˜ë¥¼ ì™„ì„±í•˜ë¼.

-ì œí•œì‚¬í•­
  â—¾ï¸ìŠ¤í…Œì´ì§€ì˜ ê°œìˆ˜ Nì€ 1 ì´ìƒ 500 ì´í•˜ì˜ ìì—°ìˆ˜ì´ë‹¤.
  â—¾ï¸stagesì˜ ê¸¸ì´ëŠ” 1 ì´ìƒ 200,000 ì´í•˜ì´ë‹¤.
  â—¾ï¸stagesì—ëŠ” 1 ì´ìƒ N + 1 ì´í•˜ì˜ ìì—°ìˆ˜ê°€ ë‹´ê²¨ìˆë‹¤.
  â—¾ï¸ê° ìì—°ìˆ˜ëŠ” ì‚¬ìš©ìê°€ í˜„ì¬ ë„ì „ ì¤‘ì¸ ìŠ¤í…Œì´ì§€ì˜ ë²ˆí˜¸ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.
  â—¾ï¸ë‹¨, N + 1 ì€ ë§ˆì§€ë§‰ ìŠ¤í…Œì´ì§€(N ë²ˆì§¸ ìŠ¤í…Œì´ì§€) ê¹Œì§€ í´ë¦¬ì–´ í•œ ì‚¬ìš©ìë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.
  â—¾ï¸ë§Œì•½ ì‹¤íŒ¨ìœ¨ì´ ê°™ì€ ìŠ¤í…Œì´ì§€ê°€ ìˆë‹¤ë©´ ì‘ì€ ë²ˆí˜¸ì˜ ìŠ¤í…Œì´ì§€ê°€ ë¨¼ì € ì˜¤ë„ë¡ í•˜ë©´ ëœë‹¤.
  â—¾ï¸ìŠ¤í…Œì´ì§€ì— ë„ë‹¬í•œ ìœ ì €ê°€ ì—†ëŠ” ê²½ìš° í•´ë‹¹ ìŠ¤í…Œì´ì§€ì˜ ì‹¤íŒ¨ìœ¨ì€ 0 ìœ¼ë¡œ ì •ì˜í•œë‹¤.
*/

//resultëŠ” 1ë¶€í„° N ì „ê¹Œì§€ì˜ ìˆ«ìê°€ ë“¤ì–´ê°„ë‹¤.
//stagesì—ì„œ N+1ì´ ìˆìœ¼ë©´ filterë¡œ ì œì™¸í•˜ê³ , ë§ˆì§€ë§‰ì— resultì—ëŠ” Nì„ í‘¸ì‰¬í•œë‹¤.
//answerë¥¼ ëŒë©´ì„œ í•´ë‹¹ ì›ì†Œê°€ stagesì— ëª‡ê°œ ë“¤ì–´ìˆëŠ”ì§€ íŒŒì•…í•´ì„œ stagesì˜ ê¸¸ì´ë¡œ ë‚˜ëˆˆê±¸ ë¦¬í„´ =>ì‹¤íŒ¨ìœ¨
//stagesë¥¼ ëŒë©´ì„œ ì›ì†Œ í•˜ë‚˜ì˜ ê°¯ìˆ˜ë¥¼ stagesì˜ ê¸¸ì´ë¡œ ë‚˜ëˆˆë‹¤ => ì‹¤íŒ¨ìœ¨
function solution(N, stages) {
  let stageNFailRate = [];
  for (let stage = 1; stage <= N; stage++) {
    const playerReached = stages.filter((player) => player >= stage).length; //ë‹¨ê³„ë³„ ë„ë‹¬ë¥ 
    const playerChallenging = stages.filter(
      (player) => player === stage
    ).length; //ë‹¨ê³„ë³„ ë„ì „ì¤‘

    stageNFailRate.push([stage, playerChallenging / playerReached]);
  }
  stageNFailRate.sort((a, b) => b[1] - a[1]);
  return stageNFailRate.map((stage) => stage[0]);
}

solution(5, [2, 1, 2, 6, 2, 4, 3, 3]);

/*
ğŸ¤– ë‹¤ë¥¸ ì‚¬ëŒì˜ í’€ì´

function solution(N, stages) {
    let arr = [];
    let totalNum = stages.length;
    for (let i=1; i<=N; i++){
        // í˜„ì¬ ë‹¨ê³„ì—ì„œ ì‹¤íŒ¨í•œ ìœ ì €ìˆ˜ë¥¼ ê³„ì‚°
        // í˜„ì¬ê¹Œì§€ì˜ ëˆ„ì  ë„ì „ììˆ˜ë¥¼ ë‚˜ëˆ„ì–´ ì‹¤íŒ¨ìœ¨ ê³„ì‚°
        // í˜„ì¬ê¹Œì§€ì˜ ëˆ„ì  ë„ì „ììˆ˜ì— ì‹¤íŒ¨í•œ ìœ ì €ìˆ˜ ë¹¼ê¸°
        let stageNum = stages.filter(ele=> ele==i).length
        let failRatio = 0;
        if (stageNum===0){
            failRatio = 0;
        }else{
            failRatio = (stageNum)/totalNum;
        }
        totalNum -= stageNum;
        arr.push({idx:i,ratio:failRatio});
    }
    // ì‹¤íŒ¨ìœ¨ ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ì •ë ¬í•˜ê³  ì‹¤íŒ¨ìœ¨ì´ ê°™ë‹¤ë©´ stage ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬
    arr.sort((a,b)=>{
        if(a.ratio>b.ratio){
            return -1;
        }else if (a.ratio<b.ratio){
            return 1;
        }else{
            if(a.idx>b.idx){
                return 1;
            }else{
                return -1;
            }
        }
    })
    return arr.map(ele=>ele.idx);
}
*/
