/*-λ¬Έμ  μ„¤λ…
κ²μ„κ°λ°μμΈ "μ£ λ¥΄λ””"λ” ν¬λ μΈ μΈν•λ½‘κΈ° κΈ°κ³„λ¥Ό λ¨λ°”μΌ κ²μ„μΌλ΅ λ§λ“¤λ ¤κ³  ν•©λ‹λ‹¤.

κ²μ„ ν™”λ©΄μ€ "1 x 1" ν¬κΈ°μ μΉΈλ“¤λ΅ μ΄λ£¨μ–΄μ§„ "N x N" ν¬κΈ°μ μ •μ‚¬κ° κ²©μμ΄λ©° μ„μ½μ—λ” ν¬λ μΈμ΄ μκ³  μ¤λ¥Έμ½μ—λ” λ°”κµ¬λ‹κ°€ μμµλ‹λ‹¤. 
κ° κ²©μ μΉΈμ—λ” λ‹¤μ–‘ν• μΈν•μ΄ λ“¤μ–΄ μμΌλ©° μΈν•μ΄ μ—†λ” μΉΈμ€ λΉμΉΈμ…λ‹λ‹¤. 
λ¨λ“  μΈν•μ€ "1 x 1" ν¬κΈ°μ κ²©μ ν• μΉΈμ„ μ°¨μ§€ν•λ©° κ²©μμ κ°€μ¥ μ•„λ μΉΈλ¶€ν„° μ°¨κ³΅μ°¨κ³΅ μ“μ—¬ μμµλ‹λ‹¤. 
κ²μ„ μ‚¬μ©μλ” ν¬λ μΈμ„ μΆμ°λ΅ μ›€μ§μ—¬μ„ λ©μ¶ μ„μΉμ—μ„ κ°€μ¥ μ„μ— μλ” μΈν•μ„ μ§‘μ–΄ μ¬λ¦΄ μ μμµλ‹λ‹¤. 
μ§‘μ–΄ μ¬λ¦° μΈν•μ€ λ°”κµ¬λ‹μ— μ“μ΄κ² λλ” λ°, μ΄λ• λ°”κµ¬λ‹μ κ°€μ¥ μ•„λ μΉΈλ¶€ν„° μΈν•μ΄ μμ„λ€λ΅ μ“μ΄κ² λ©λ‹λ‹¤.
λ§μ•½ κ°™μ€ λ¨μ–‘μ μΈν• λ‘ κ°κ°€ λ°”κµ¬λ‹μ— μ—°μ†ν•΄μ„ μ“μ΄κ² λλ©΄ λ‘ μΈν•μ€ ν„°λ¨λ ¤μ§€λ©΄μ„ λ°”κµ¬λ‹μ—μ„ μ‚¬λΌμ§€κ² λ©λ‹λ‹¤. 
ν¬λ μΈ μ‘λ™ μ‹ μΈν•μ΄ μ§‘μ–΄μ§€μ§€ μ•λ” κ²½μ°λ” μ—†μΌλ‚ λ§μ•½ μΈν•μ΄ μ—†λ” κ³³μ—μ„ ν¬λ μΈμ„ μ‘λ™μ‹ν‚¤λ” κ²½μ°μ—λ” μ•„λ¬΄λ° μΌλ„ μΌμ–΄λ‚μ§€ μ•μµλ‹λ‹¤. 
λν• λ°”κµ¬λ‹λ” λ¨λ“  μΈν•μ΄ λ“¤μ–΄κ° μ μμ„ λ§νΌ μ¶©λ¶„ν ν¬λ‹¤κ³  κ°€μ •ν•©λ‹λ‹¤.

κ²μ„ ν™”λ©΄μ κ²©μμ μƒνƒκ°€ λ‹΄κΈ΄ 2μ°¨μ› λ°°μ—΄ boardμ™€ μΈν•μ„ μ§‘κΈ° μ„ν•΄ ν¬λ μΈμ„ μ‘λ™μ‹ν‚¨ μ„μΉκ°€ λ‹΄κΈ΄ λ°°μ—΄ movesκ°€ λ§¤κ°λ³€μλ΅ μ£Όμ–΄μ§ λ•, 
ν¬λ μΈμ„ λ¨λ‘ μ‘λ™μ‹ν‚¨ ν›„ ν„°νΈλ ¤μ Έ μ‚¬λΌμ§„ μΈν•μ κ°μλ¥Ό return ν•λ„λ΅ solution ν•¨μλ¥Ό μ™„μ„±ν•΄μ£Όμ„Έμ”.
*/

//1.λ°°μ—΄μ—μ„ μΈν• λ°”κµ¬λ‹λ΅ μ®κΈ°κΈ°
//2.λ°”κµ¬λ‹μ—μ„ 2κ° μ—°μ†μ΄λ©΄ μ‚¬λΌμ§€κ² λ§λ“¤κ³  μ‚¬λΌμ§„ μΈν•μ κ°―μ κµ¬ν•κΈ°
function solution(board, moves) {
  let basket = [];
  let disappear = [];

  //μΈν• λ°”κµ¬λ‹λ΅ μ®κΈ°κΈ°
  for (let i = 0; i < moves.length; i++) {
    for (let j = 0; j < board.length; j++) {
      if (board[j][moves[i] - 1] !== 0) {
        basket.push(board[j][moves[i] - 1]);
        board[j][moves[i] - 1] = 0;
        break;
      }
    }
  }

  //λ°”κµ¬λ‹μ—μ„ 2κ° μ—°μ†μ΄λ©΄ μ‚¬λΌμ§€κ² λ§λ“¤κ³  μ‚¬λΌμ§„ μΈν•μ κ°―μ κµ¬ν•κΈ° (μ¬κ·€)
  destroyDoll(basket, disappear);
  return disappear.length * 2;
}

//μ—°μ†ν• μΈν• μ‚¬λΌμ§€κ² λ§λ“λ” μ¬κ·€ν•¨μ
function destroyDoll(basket, disappear) {
  for (let i = 0; i < basket.length; i++) {
    if (basket[i] == basket[i + 1]) {
      basket.splice(i, 2);
      disappear.push(1);
      destroyDoll(basket, disappear);
    }
  }
}

solution(
  [
    [0, 0, 0, 0, 0],
    [0, 0, 1, 0, 3],
    [0, 2, 5, 0, 1],
    [4, 2, 4, 4, 2],
    [3, 5, 1, 3, 1],
  ],
  [1, 5, 3, 5, 1, 2, 1, 4]
);

/*
π¤– λ‹¤λ¥Έ μ‚¬λμ ν’€μ΄

function solution1(board, moves) {
  var count = 0;
  var stack = [];

  for (var i = 0; i < moves.length; i++) {
    var now = moves[i] - 1;
    for (var j = 0; j < board.length; j++) {
      if (board[j][now] != 0) { π‘‰ κ³ λ¥Έ κ²ƒ
        if (stack[stack.length - 1] === board[j][now]) {
          π‘‰ κ³ λ¥Έ κ²ƒκ³Ό stackμ λ§μ§€λ§‰κ³Ό κ°™λ‹¤λ©΄ stack λ§μ§€λ§‰μ—μ„ μ κ±°
          stack.pop();
          count += 2;
        } else {
          π‘‰ stack λ§μ§€λ§‰μ— μ¶”κ°€
          stack.push(board[j][now]);
        }
        board[j][now] = 0; π‘‰ κ³ λ¥Έ κ²ƒ 0 λ§λ“¤κΈ°
        break;
      }
    }
  }
  console.log(stack);
  return count;
}

β΅οΈ λ°”κµ¬λ‹μ— λ‹¤ λ‹΄μ€ ν›„μ— μ κ±°ν•λ” κ²ƒμ΄ μ•„λ‹λΌ λ‹΄μΌλ©΄μ„ κ°™λ‹¤λ©΄ λ°”λ΅ μ‚­μ 
*/
